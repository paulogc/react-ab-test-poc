!function(a,b){var c="lindd",d="linddelayedd",e="lindLimbod",f=[];f.myfirsttestab={name:"Test1",audience:80,exception:null,triggerEvent:null,createdAt:20170622,variants:{variantA:{name:"Default version",audience:50,method:function(){}},variantB:{name:"Defautl Changes",audience:50,method:function(){}}}};var g={dashActvationKey:"",dashUrl:""},h=function(){var a=function(a,b){return a=a||0,b=b||100,Math.floor(Math.random()*(b-a+1))+a},b=function(b){var c=0,d=0,e=null,f=a();for(var g in b){if(d+=b[g].audience,c<=f&&f<=d){b[g].key=g,e=b[g];break}c=d}return null===e&&(e={key:"withoutTest"}),e};return{sortTest:b,sortNumber:a}}(),i=function(){var a=function(a){return"function"!=typeof a||a()};return{valid:a}}(),j=function(){var a=function(a){var b=new RegExp("[; ]"+a+"=([^\\s;]*)"),c=(" "+document.cookie).match(b);return a&&c?c[1]:""},b=function(a,b,c){c=c||30;var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="; expires="+d.toGMTString();document.cookie=a+"="+b+e+"; path=/; domain="+i()},f=function(a){document.cookie=a+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/; domain="+i()},g=function(a){a=a||25;for(var b="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d=0;d<a;d++)b+=c.charAt(Math.floor(Math.random()*c.length));return b},h=function(){j.destroy(c),j.destroy(d),j.destroy(e)},i=function(){return fullDomain=window.location.host.split("."),fullDomain.shift(),"."+fullDomain.join(".")},k=function(a,b,c){return"lind_"+a+"_"+b+"_"+c+"#"+g()};return{clear:h,get:a,create:b,update:b,destroy:f,name:k}}();!function(a){if(a.dashUrl){window.lindDashKey=a.dashActvationKey;var b=document.createElement("script");b.type="text/javascript",b.src=a.dashUrl,b.async="async",document.getElementsByTagName("head")[0].appendChild(b)}}(g);(function(){if(!Object.keys(f).length)return j.clear(),!1;var a,b,g=j.get(c),k=j.get(d),l=j.get(e);window.LindTests=f;var m=function(a){var b=!1;if(a)if(a.indexOf("limbo")>-1)b={variantName:"limbo",testName:!1};else{var c=a.split("#")[0].split("_");b={variantName:c[2],testName:c[1]}}return b},n=function(a){var b=!1;return a&&("limbo"==a.variantName||f.hasOwnProperty(a.testName)||(j.destroy(c),g=!1),b=a),b},o=function(a,b){"function"==typeof f[b].rule?(document.querySelector("html").style.opacity=0,document.addEventListener("DOMContentLoaded",function(b){p(a),document.querySelector("html").style.opacity=1})):p(a)},p=function(m){switch(m){case"validTest":if(i.valid(f[t.testName].rule))return f[t.testName].variants[t.variantName].method(),j.update(c,g);break;case"delayedTest":if(i.valid(f[k].rule)){var n=f[k],o=h.sortTest(n.variants),p=j.name(k,o.key,n.createdAt);return o.method(),j.destroy(d),j.create(c,p)}break;case"sortNewTest":if(j.clear(),a&&i.valid(a.rule)&&b){var q=h.sortTest(a.variants),r=j.name(a.key,q.key,a.createdAt);return q.method(),j.create(c,r)}if(!b&&!l)return j.create(e,"limbo");if(a&&!l)return j.create(d,a.key)}return!1},q=function(){return"limbo"==t.variantName?j.update(c,t.variantName):o("validTest",t.testName)},r=function(){o("delayedTest",k)},s=function(){return a=h.sortTest(f),b=i.valid(a.exception),"withoutTest"==a.key?(j.create(e,"limbo",1),l=j.get(e),b=!1,!1):(o("sortNewTest",a.key),!1)},t=m(g);t=n(t),t?q():k?r():g||k||l||s()})();b.lind=a}({},function(){return this}());